
<template id="filters">
	<div class="row m-2">
		<label class="col-form-label col-20ch">Статус:</label>
		<div class="col-50ch">
			<select class="form-select" id="status" data-type="Статус" onchange="Заполнить()">
				<option value="">(все)</option>
				<option value="undone">(незавершенные)</option>
			</select>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-20ch">Проект:</label>
		<div class="col-50ch">
			<select class="form-select" id="project" data-type="Договор" onchange="Заполнить()">
				<option value="">(все)</option>
			</select>
		</div>
	</div>
</template>

<template id="commands">
	<div class="row m-2 mt-3 mb-3">
		<div class="col-grow">
			<a class="btn btn-outline-success me-1" href="form?type=Задача" target="_blank">
				<i class="bi bi-plus-circle"></i> Создать
			</a>
			<button class="btn btn-outline-success" onclick="object.Заполнить()">
				<i class="bi bi-arrow-clockwise"></i>
			</button>
		</div>
	</div>
</template>

<template id="content">
	<div class="row m-2" id="content"></div>
</template>

<template id="card">
	<div class="col-md-6 col-lg-4 col-xl-3 p-0">
		<div class="card me-3 mb-3 {class}" record="{id}">
			<div class="card-body">
				<h3 class="card-title">{НаименованиеПроекта}</h3>
				<!-- <a class="h4 card-title" href="задача?id={id}" target="_blank">{Тема}</a> -->
				<a class="h4 card-title" href="form?type=Задача&id={id}" target="_blank">{Тема}</a>
				<h6 class="text-muted card-subtitle mb-2">{СледующееДействие}</h6>
				<p class="card-text" style="max-height: 3em; overflow-y: hidden;">{Содержание}</p>
				<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{Срок}</a>
				<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{Дата}</a>
				<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{НаименованиеПостановщика}</a>
			</div>
		</div>
	</div>
</template>

<template id="footer">
	<div class="row m-2 d-none" id="more">
		<div class="col-grow">
			<button class="btn btn-secondary" onclick="object.Заполнить(false)">Вывести еще</button>
		</div>
	</div>
	<div class="row m-2"></div>
</template>

<template id="form">
	<div class="row m-2"></div>
	<div class="row m-2">
		<div class="col-grow">
			<button class="btn btn-primary me-2 cmd-ok">Записать</button>
			<a class="btn btn-success" href="form?type=Работы&задача={id}" target="_blank">Работа</a>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Срок:</label>
		<div class="col-20ch">
			<input type="date" class="form-control" data-value="Срок">
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Статус:</label>
		<div class="col-30ch col-grow">
			<select class="form-select" data-type="Статус" data-value="Статус">
				<option value="">(не выбран)</option>
			</select>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Следующее действие:</label>
		<div class="col-30ch col-grow">
			<textarea class="form-control" data-value="СледующееДействие" rows="3"></textarea>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Тема:</label>
		<div class="col-30ch col-grow">
			<textarea class="form-control" data-value="Тема" rows="3"></textarea>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Проект:</label>
		<div class="col-30ch col-grow">
			<select id="project" class="form-select" data-type="Договор" data-value="Проект">
				<option value="">(не выбран)</option>
			</select>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Постановщик:</label>
		<div class="col-30ch col-grow">
			<select id="employee" class="form-select" data-type="Сотрудник" data-value="Постановщик">
				<option value="">(не выбран)</option>
			</select>
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Дата постановки:</label>
		<div class="col-20ch">
			<input id="Дата" type="date" class="form-control" data-value="Дата">
		</div>
	</div>
	<div class="row m-2">
		<label class="col-form-label col-25ch">Вложения:</label>
		<div class="col-30ch col-grow">
			<button class="btn btn-outline-secondary" onclick="object.Изображение()">
				<i class="bi bi-paperclip"></i>
			</button>
		</div>
	</div>
	<div id="attach"></div>
	<div class="row m-2">
		<label class="col-form-label col-30ch col-grow">Содержание:</label>
		<div class="col-grow">
			<textarea id="Содержание" class="form-control" data-value="Содержание" rows="7"></textarea>
		</div>
	</div>
</template>

<template id="line">
	<div class="card m-2 bg-info text-white"
		 onclick="object.ОткрытьФайл('{name}', '{type}', '{address}')">
		<div class="card-body">
			<p class="m-0"><i class="bi bi-file-earmark"></i> {name}</p>
		</div>
	</div>
</template>
