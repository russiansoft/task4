<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
				crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">		  
		<link rel="stylesheet" href="col.css">
		<link rel="stylesheet" href="style.css"/>
		<link rel="icon" href="favicon.svg">
		<script src="server.js"></script>
		<script src="database.js"></script>
		<script src="client.js"></script>
		<script src="binding.js"></script>
		<script src="template.js"></script>
		<script src="период.js"></script>
		<script src="classes.js"></script>
		<script src="nav.js"></script>
		<script src="задачи.js"></script>
		<title>Задачи</title>
		<style>
			.card-text
			{
				max-height: 3em;
				overflow-y: hidden;
			}
		</style>
	</head>
	<body data-type="Задачи" onload="Загрузка()" data-onsave="Заполнить()">
		<nav class="navbar fixed-top navbar-expand-sm"></nav>
		<header class="container-fluid">
			<div class="row m-2"></div>
		</header>
		<menu class="container-fluid">
			<div class="row m-2 mt-3 mb-3">
				<div class="col-grow">
					<a class="btn btn-outline-success me-1" href="form?type=Задача" target="_blank">
						<i class="bi bi-plus-circle"></i> Создать
					</a>
					<button class="btn btn-outline-success" onclick="Заполнить()">
						<i class="bi bi-arrow-clockwise"></i>
					</button>
				</div>
			</div>
		</menu>
		<main class="container-fluid">
			<div class="row m-2" id="content"></div>
		</main>
		<footer>
			<div id="more" class="container-fluid d-none">
				<div class="row m-2">
					<div class="col-grow">
						<button class="btn btn-secondary" onclick="Заполнить(false)">Вывести еще</button>
					</div>
				</div>
			</div>
			<div class="row m-2"></div>
		</footer>
		<template id="filters">
			<div class="row m-2">
				<label class="col-form-label col-20ch">Статус:</label>
				<div class="col-50ch">
					<select class="form-select" id="status" data-type="Статус" onchange="Заполнить()">
						<option value="">(все)</option>
						<option value="undone">(незавершенные)</option>
					</select>
				</div>
			</div>
			<div class="row m-2">
				<label class="col-form-label col-20ch">Проект:</label>
				<div class="col-50ch">
					<select class="form-select" id="project" data-type="Договор" onchange="Заполнить()">
						<option value="">(все)</option>
					</select>
				</div>
			</div>
		</template>
		<template id="card">
			<div class="col-md-6 col-lg-4 col-xl-3 p-0">
				<div class="card me-3 mb-3 {class}" record="{id}">
					<div class="card-body">
						<h3 class="card-title">{НаименованиеПроекта}</h3>
						<!-- <a class="h4 card-title" href="задача?id={id}" target="_blank">{Тема}</a> -->
						<a class="h4 card-title" href="form?type=Задача&id={id}" target="_blank">{Тема}</a>
						<h6 class="text-muted card-subtitle mb-2">{СледующееДействие}</h6>
						<p class="card-text">{Содержание}</p>
						<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{Срок}</a>
						<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{Дата}</a>
						<a class="card-link" href="form?type=Задача&id={id}" target="_blank">{НаименованиеПостановщика}</a>
					</div>
				</div>
			</div>
		</template>
	</body>
</html>
